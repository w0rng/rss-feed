{% extends "base.html" %}

{% block content %}
    <div class="container cards-group">
        <turbo-frame id="article_{{ article.id }}">
            <div class="card mb-5" id="{{ article.id }}">
                <div class="position-relative">
                    <div style="min-height: 100px">
                        <img src="{{ article.image }}" class="card-img-top">
                    </div>
                    <form class="position-absolute top-0 end-0" action="/article/{{ article.id }}/save" method="post">
                        {% csrf_token %}
                        <button class="btn btn-warning bookmark" type="submit">
                            {% if article.saved %}
                                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="12" viewBox="0 0 384 512">
                                    <path d="M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"/>
                                </svg>
                            {% else %}
                                <svg xmlns="http://www.w3.org/2000/svg" height="16" width="12" viewBox="0 0 384 512">
                                    <path d="M0 48C0 21.5 21.5 0 48 0l0 48V441.4l130.1-92.9c8.3-6 19.6-6 27.9 0L336 441.4V48H48V0H336c26.5 0 48 21.5 48 48V488c0 9-5 17.2-13 21.3s-17.6 3.4-24.9-1.8L192 397.5 37.9 507.5c-7.3 5.2-16.9 5.9-24.9 1.8S0 497 0 488V48z"/>
                                </svg>
                            {% endif %}
                        </button>
                    </form>
                    <div class="position-absolute bottom-0 start-0">
                        {% for tag in article.tags %}
                            <a href="/?tag={{ tag }}"
                               class="link-dark link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover"
                               target="_top">
                                <span class="badge bg-secondary col">{{ tag }}</span>
                            </a>
                        {% endfor %}
                    </div>
                    <span class="badge bg-primary position-absolute bottom-0 end-0">
                        Просмотры: {{ article.count_read }}
                    </span>
                </div>
                <div class="card-body">
                    <a href="{{ article.url }}"
                       class="link-dark link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover"
                       target="_blank">
                        <h2 class="card-title mb-4">{{ article.title }}</h2>
                    </a>
                    <ul class="card-text">
                        {% for paragraph in article.paragraphs %}
                            <li class="mb-2">{{ paragraph }}</li>
                        {% endfor %}
                    </ul>
                </div>
            </div>

        </turbo-frame>
    </div>
{% endblock %}